package tests_test

import (
	"testing"

	"github.com/stretchr/testify/require"
)

// JMP a
func Test0x4c(t *testing.T) {
	m := raw(0x4c, 0xaa, 0xbb)
	m.Set(0x4c, 0xaa, 0xbb)
	m.Set(0x44, 0xab, 0xbb)
	m.Set(0x55, 0xac, 0xbb)
	m.Tick()
	require.Equal(t, uint16(0xbbaa), m.PC)
	m.Tick()
	require.Equal(t, uint16(0x5544), m.PC)
}

// JMP (a)
func Test0x6c(t *testing.T) {
	m := raw(0x6c, 0x11, 0x22)
	m.Set(0x33, 0x11, 0x22)
	m.Set(0x44, 0x12, 0x22)

	m.Set(0x6c, 0x33, 0x44)
	m.Set(0x55, 0x34, 0x44)
	m.Set(0x66, 0x35, 0x44)

	m.Set(0x77, 0x55, 0x66)
	m.Set(0x88, 0x56, 0x66)

	m.Tick()
	require.Equal(t, uint16(0x4433), m.PC)
	m.Tick()
	require.Equal(t, uint16(0x8877), m.PC)
}
